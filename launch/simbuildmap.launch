<launch>
  <arg name="ns" default=""/>
  <arg name="config" default="$(find robot_config)"/>

  <arg name="rviz" default="true"/>
	<arg name="rviz_config" default="true"/>
	<arg name="rviz_debug" default="false"/>


  <include file="$(find ghost)/launch/boot.launch">
    <arg name="ns" value="$(arg ns)"/>
		<arg name="config" value="$(arg config)"/>
    <arg name="sim" value="true"/>
    <arg name="agv" value="true"/>
    <arg name="navigation" value="true"/>

    <arg name="joystick" value="true"/>
    <arg name="slam" default="false"/>
    <arg name="gmapping" default="true"/>
  </include>


  <node pkg="joy" type="joy_node" name="joy_node"/>

  <!-- rviz -->
  <arg unless="$(arg rviz_debug)" name="launch_prefix" value=""/>
  <arg     if="$(arg rviz_debug)" name="launch_prefix" value="gdb --ex run --args"/>

  <arg unless="$(arg rviz_config)" name="command_args" value=""/>
  <arg     if="$(arg rviz_config)" name="command_args" value="-d $(arg config)/rv.rviz"/>

  <node if="$(arg rviz)" name="$(anon rviz)" launch-prefix="$(arg launch_prefix)" pkg="rviz" type="rviz" respawn="false"
	args="$(arg command_args)" output="screen">
  </node>
</launch>
